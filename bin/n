#!/bin/bash

[[ -d $NOTES_PATH ]] || git clone git@github.com:/exegeteio/notes.git $NOTES_PATH
SUBJECT=$(date +%Y/%m/%d.md)
test -n "$1" && SUBJECT="$(dirname $1)/$(basename $1 .md).md"
cd $NOTES_PATH
git pull -q &
mkdir -p $(dirname $SUBJECT)
vi $SUBJECT
git add . \
	&& git commit -qnm "$SUBJECT - $(date +%F)" \
	&& git push -q
cd - 1>/dev/null