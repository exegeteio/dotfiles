#!/usr/bin/env ruby

puts "Must supply a filename!" if ARGV.length == 0

ARGV.each do |arg|
    puts "Editing #{arg}}..."
    if ENV['EDITOR'].match(/^vi/)
        (file, line, pos) = arg.split(':')
        system("vim +#{line} #{file}")
    else
        # VS Code can take the original output..
        system("code -g #{arg}")
    end
end
